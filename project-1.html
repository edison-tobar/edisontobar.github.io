<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sistema de Tickets ‚Äî Edison Tobar</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css"/>

<style>
:root{
  --verde:#00a86b; --verde-oscuro:#00784f;
  --bg:#f4f6f5; --card:#fff; --text:#222; --muted:#666;
}
@media (prefers-color-scheme: dark){
  :root{ --bg:#0f1112; --card:#131416; --text:#e9eef0; --muted:#9aa0a3; }
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui;background:var(--bg);color:var(--text);padding:18px}
.wrap{max-width:980px;margin:18px auto}
.back{display:inline-block;color:var(--verde);text-decoration:none;font-weight:700;margin-bottom:12px}
.header-card{background:var(--card);padding:20px;border-radius:12px;box-shadow:0 12px 30px rgba(0,0,0,0.06)}
.header-card h1{margin:0 0 6px}
.meta{color:var(--muted);margin-bottom:10px}

/* slider horizontal */
.slider{display:flex;gap:12px;overflow-x:auto;padding:12px;border-radius:12px;scroll-snap-type:x mandatory}
.slider a{flex:0 0 80%; max-width:760px; scroll-snap-align:center; display:block}
.slider img{width:100%;height:360px;object-fit:cover;border-radius:10px;cursor:pointer;display:block}
@media(max-width:700px){ .slider a{flex:0 0 92%} .slider img{height:260px} }

/* thumbs */
.thumbs{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
.thumbs img{width:90px;height:60px;object-fit:cover;border-radius:6px;cursor:pointer;opacity:.95;transition:transform .15s,opacity .15s}
.thumbs img:hover{transform:scale(1.05);opacity:1}

/* before/after */
.ba-wrap{position:relative;margin-top:20px;border-radius:10px;overflow:hidden;background:#000}
.ba-wrap img{width:100%;height:420px;object-fit:cover;display:block}
.ba-overlay{position:absolute;top:0;left:0;height:100%;overflow:hidden;width:50%}
.ba-overlay img{display:block;width:100%;height:100%;object-fit:cover}
.ba-divider{position:absolute;top:0;left:50%;width:2px;height:100%;background:rgba(255,255,255,0.6);transform:translateX(-1px)}
.ba-handle{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:44px;height:44px;border-radius:50%;background:rgba(255,255,255,0.95);display:flex;align-items:center;justify-content:center;color:#111;font-weight:700;cursor:ew-resize;box-shadow:0 6px 18px rgba(0,0,0,0.2)}

/* cta */
.cta{display:inline-block;background:var(--verde);color:#fff;padding:10px 14px;border-radius:8px;text-decoration:none;margin-top:16px}
</style>
</head>
<body>
  <div class="wrap">

    <a class="back" href="index.html">‚Üê Volver al portafolio</a>

    <div class="header-card">
      <h1>üîê Sistema de Tickets</h1>
      <p class="meta">Power Platform ¬∑ ISO 27001 ¬∑ Gesti√≥n de Incidencias ¬∑ 2024</p>
      <p>Desarrollo e implementaci√≥n de un sistema de tickets corporativo construido con Power Apps, flujos autom√°ticos en Power Automate y reportes en Power BI. Funcionalidades: creaci√≥n/seguimiento de incidencias, asignaci√≥n autom√°tica, auditor√≠a y KPIs.</p>
    </div>

    <!-- SLIDER / LIGHTBOX -->
    <div class="slider" id="slider1" aria-hidden="false" role="region" aria-label="Galer√≠a de im√°genes">
      <a href="assets/proj1/img1.png" class="glightbox" data-gallery="proj1"><img src="assets/proj1/img1.png" loading="lazy" alt="Proj1 - 1"></a>
      <a href="assets/proj1/img2.png" class="glightbox" data-gallery="proj1"><img src="assets/proj1/img2.png" loading="lazy" alt="Proj1 - 2"></a>
      <a href="assets/proj1/img3.png" class="glightbox" data-gallery="proj1"><img src="assets/proj1/img3.png" loading="lazy" alt="Proj1 - 3"></a>
      <a href="assets/proj1/img4.png" class="glightbox" data-gallery="proj1"><img src="assets/proj1/img4.png" loading="lazy" alt="Proj1 - 4"></a>
    </div>

    <div class="thumbs" id="thumbs1" aria-hidden="false">
      <img src="assets/proj1/img1.png" data-index="0" alt="thumb1">
      <img src="assets/proj1/img2.png" data-index="1" alt="thumb2">
      <img src="assets/proj1/img3.png" data-index="2" alt="thumb3">
      <img src="assets/proj1/img4.png" data-index="3" alt="thumb4">
    </div>

    <!-- BEFORE / AFTER -->
    <div style="margin-top:18px">
      <h3>Comparativa Antes / Despu√©s</h3>
      <div class="ba-wrap" id="ba1" aria-label="Comparativa antes y despu√©s">
        <img src="assets/proj1/before.png" alt="Antes">
        <div class="ba-overlay" id="ba1Overlay"><img src="assets/proj1/after.png" alt="Despu√©s"></div>
        <div class="ba-divider" id="ba1Divider"></div>
        <div class="ba-handle" id="ba1Handle">‚áÜ</div>
      </div>
      <p style="color:var(--muted);margin-top:8px">Arrastra el control para comparar la imagen antes y despu√©s.</p>
    </div>

    <a class="cta" href="CV_Edison_Tobar_2025.pdf" target="_blank">Descargar CV</a>

  </div>

<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
<script>
// GLightbox init
const lb1 = GLightbox({ selector: '.glightbox', loop: true });

// thumbs open
document.getElementById('thumbs1').addEventListener('click', (e)=>{
  const t = e.target;
  if(t.tagName !== 'IMG') return;
  const idx = Number(t.dataset.index||0);
  lb1.openAt(idx);
});

// BEFORE-AFTER functionality (drag / touch)
(function(){
  const wrap = document.getElementById('ba1');
  const overlay = document.getElementById('ba1Overlay');
  const handle = document.getElementById('ba1Handle');
  const divider = document.getElementById('ba1Divider');
  if(!wrap) return;
  let dragging = false;

  function setPos(clientX){
    const rect = wrap.getBoundingClientRect();
    let x = clientX - rect.left;
    if(x < 0) x = 0;
    if(x > rect.width) x = rect.width;
    const pct = (x / rect.width) * 100;
    overlay.style.width = pct + '%';
    divider.style.left = pct + '%';
    handle.style.left = pct + '%';
  }

  handle.addEventListener('pointerdown', ()=>dragging=true);
  document.addEventListener('pointerup', ()=>dragging=false);
  document.addEventListener('pointermove', (e)=>{ if(dragging) setPos(e.clientX); });

  // touch/click on container moves handle
  wrap.addEventListener('click', (e)=> setPos(e.clientX));
  // init center
  setPos(wrap.getBoundingClientRect().left + wrap.getBoundingClientRect().width/2);
})();
</script>
</body>
</html>
